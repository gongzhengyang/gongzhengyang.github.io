import{_ as s,o as a,c as n,Q as p}from"./chunks/framework.36bc40e2.js";const C=JSON.parse('{"title":"Ubuntu系统下的snmp客户端以及服务端安装以及配置","description":"","frontmatter":{},"headers":[],"relativePath":"published/Ubuntu环境下配置snmp.md","filePath":"published/Ubuntu环境下配置snmp.md","lastUpdated":1700106669000}'),l={name:"published/Ubuntu环境下配置snmp.md"},o=p(`<h1 id="ubuntu系统下的snmp客户端以及服务端安装以及配置" tabindex="-1"><code>Ubuntu</code>系统下的<code>snmp</code>客户端以及服务端安装以及配置 <a class="header-anchor" href="#ubuntu系统下的snmp客户端以及服务端安装以及配置" aria-label="Permalink to &quot;\`Ubuntu\`系统下的\`snmp\`客户端以及服务端安装以及配置&quot;">​</a></h1><h2 id="基本介绍" tabindex="-1">基本介绍 <a class="header-anchor" href="#基本介绍" aria-label="Permalink to &quot;基本介绍&quot;">​</a></h2><ul><li><p><code>snmp</code>(<code>Simple Network Management Protocol</code>，简单网络管理协议)，该协议的实现以及应用是采用<code>C/S</code>模型的特殊模式：代理/管理站模型。</p></li><li><p>代理是指提供<code>snmp</code>协议服务的网络设备，可以提供设备网络状态，配置信息，并且可以向管理站提供网络事件告警，响应来自网络的各种请求信息</p></li><li><p>管理站是类似于客户端角色，会向不同的代理请求获取数据返回</p></li><li><p>协议通过<code>UDP</code>端口161（代理端端口）和162（管理站<code>trap</code>进程开放端口）进行通信</p></li><li><p>代理会提供大量的对象标识符（<code>OID－Object Identifiers</code>），一个<code>OID</code>是一个唯一的键值对，每个<code>OID</code>都对应了不同的系统信息</p></li><li><p><code>OID</code>都非常长，使得人们难以记住，人们就设计了一种将数字<code>OID</code>翻译为人们可读的格式，翻译映射保存在“管理信息基础&quot;（<code>Management Infomation Base</code>,<code>MIB</code>)的无格式文本文件里</p></li><li><p><code>snmp</code>有两种数据交互方式，请求和<code>trap</code>，请求是指管理站向代理设备发送<code>GET</code>请求，获取相应的网络信息，是主动形式的网络监控，<code>trap</code>是指配置代理让其监测到某个特殊事件的时候主动向管理站发送告警</p></li><li><p>有三个常用版本：<code>SNMPv1</code>、<code>SNMPv2c</code>、<code>SNMPv3</code>，其中<code>SNMPv1</code>和<code>SNMPv2c</code>被广泛应用，但是由于这些协议的不安全特性，通常只使用只读访问，<code>SNMPv3</code>是具有安全性的通信协议，<code>v1</code>和<code>v2c</code>采用相同的团体字认证参数（默认该参数是<code>public</code>，生产环境下需要进行修改），<code>v3</code>版本采用基于用户账号密码的方式进行认证</p></li></ul><h2 id="软件依赖" tabindex="-1">软件依赖 <a class="header-anchor" href="#软件依赖" aria-label="Permalink to &quot;软件依赖&quot;">​</a></h2><ul><li><p><code>snmpd</code>：<code>snmp</code>服务端软件，提供开放端口用于提供给客户端请求的返回数据(系统状态信息等)</p></li><li><p><code>snmp</code>：<code>snmp</code>客户端软件，用于向服务端发送请求获取对方的系统状态信息</p></li><li><p><code>snmp-mibs-downloader</code>：用来下载更新本地<code>mib</code>库的软件</p></li></ul><p>执行命令如下，改行命令之后会安装上一系列<code>snmp</code>相关的工具，如<code>snmpwalk</code>, <code>net-snmp-create-v3-user</code>,<code>snmptranslate</code>等</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">apt</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">snmp</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">snmpd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">snmp-mibs-downloader</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">libsnmp-dev</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">apt</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">snmp</span><span style="color:#24292E;"> </span><span style="color:#032F62;">snmpd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">snmp-mibs-downloader</span><span style="color:#24292E;"> </span><span style="color:#032F62;">libsnmp-dev</span></span></code></pre></div><h2 id="基本配置与操作" tabindex="-1">基本配置与操作 <a class="header-anchor" href="#基本配置与操作" aria-label="Permalink to &quot;基本配置与操作&quot;">​</a></h2><p>查看<code>snmpd</code>状态</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">systemctl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">status</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">snmpd</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">systemctl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">status</span><span style="color:#24292E;"> </span><span style="color:#032F62;">snmpd</span></span></code></pre></div><p>配置管理<code>MIB</code>库</p><p>代理端更新<code>mib</code>库，更新到代理库的信息会可以查看<code>/var/lib/snmp/mibs</code>或者<code>/var/lib/mibs</code></p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">download-mibs</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">download-mibs</span></span></code></pre></div><p>开启<code>MIB</code>数据库的<code>OID</code>和可读字符串的转换，把最后一行<code>mibs</code>注释</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">$ sudo vim /etc/snmp/snmp.conf</span></span>
<span class="line"><span style="color:#e1e4e8;">mibs: </span></span>
<span class="line"><span style="color:#e1e4e8;">修改为</span></span>
<span class="line"><span style="color:#e1e4e8;"># mibs:</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">$ sudo vim /etc/snmp/snmp.conf</span></span>
<span class="line"><span style="color:#24292e;">mibs: </span></span>
<span class="line"><span style="color:#24292e;">修改为</span></span>
<span class="line"><span style="color:#24292e;"># mibs:</span></span></code></pre></div><p>查看<code>MIB</code>库的<code>OID</code>映射关系</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">snmptranslate</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-Tz</span><span style="color:#E1E4E8;">                </span></span>
<span class="line"><span style="color:#B392F0;">&quot;org&quot;</span><span style="color:#E1E4E8;">			</span><span style="color:#9ECBFF;">&quot;1.3&quot;</span></span>
<span class="line"><span style="color:#B392F0;">&quot;dod&quot;</span><span style="color:#E1E4E8;">			</span><span style="color:#9ECBFF;">&quot;1.3.6&quot;</span></span>
<span class="line"><span style="color:#B392F0;">&quot;internet&quot;</span><span style="color:#E1E4E8;">			</span><span style="color:#9ECBFF;">&quot;1.3.6.1&quot;</span></span>
<span class="line"><span style="color:#B392F0;">&quot;directory&quot;</span><span style="color:#E1E4E8;">			</span><span style="color:#9ECBFF;">&quot;1.3.6.1.1&quot;</span></span>
<span class="line"><span style="color:#B392F0;">&quot;mgmt&quot;</span><span style="color:#E1E4E8;">			</span><span style="color:#9ECBFF;">&quot;1.3.6.1.2&quot;</span></span>
<span class="line"><span style="color:#B392F0;">&quot;mib-2&quot;</span><span style="color:#E1E4E8;">			</span><span style="color:#9ECBFF;">&quot;1.3.6.1.2.1&quot;</span></span>
<span class="line"><span style="color:#B392F0;">&quot;system&quot;</span><span style="color:#E1E4E8;">			</span><span style="color:#9ECBFF;">&quot;1.3.6.1.2.1.1&quot;</span></span>
<span class="line"><span style="color:#B392F0;">&quot;sysDescr&quot;</span><span style="color:#E1E4E8;">			</span><span style="color:#9ECBFF;">&quot;1.3.6.1.2.1.1.1&quot;</span></span>
<span class="line"><span style="color:#B392F0;">&quot;sysObjectID&quot;</span><span style="color:#E1E4E8;">			</span><span style="color:#9ECBFF;">&quot;1.3.6.1.2.1.1.2&quot;</span></span>
<span class="line"><span style="color:#B392F0;">&quot;sysUpTime&quot;</span><span style="color:#E1E4E8;">			</span><span style="color:#9ECBFF;">&quot;1.3.6.1.2.1.1.3&quot;</span></span>
<span class="line"><span style="color:#B392F0;">&quot;sysUpTimeInstance&quot;</span><span style="color:#E1E4E8;">			</span><span style="color:#9ECBFF;">&quot;1.3.6.1.</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">snmptranslate</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-Tz</span><span style="color:#24292E;">                </span></span>
<span class="line"><span style="color:#6F42C1;">&quot;org&quot;</span><span style="color:#24292E;">			</span><span style="color:#032F62;">&quot;1.3&quot;</span></span>
<span class="line"><span style="color:#6F42C1;">&quot;dod&quot;</span><span style="color:#24292E;">			</span><span style="color:#032F62;">&quot;1.3.6&quot;</span></span>
<span class="line"><span style="color:#6F42C1;">&quot;internet&quot;</span><span style="color:#24292E;">			</span><span style="color:#032F62;">&quot;1.3.6.1&quot;</span></span>
<span class="line"><span style="color:#6F42C1;">&quot;directory&quot;</span><span style="color:#24292E;">			</span><span style="color:#032F62;">&quot;1.3.6.1.1&quot;</span></span>
<span class="line"><span style="color:#6F42C1;">&quot;mgmt&quot;</span><span style="color:#24292E;">			</span><span style="color:#032F62;">&quot;1.3.6.1.2&quot;</span></span>
<span class="line"><span style="color:#6F42C1;">&quot;mib-2&quot;</span><span style="color:#24292E;">			</span><span style="color:#032F62;">&quot;1.3.6.1.2.1&quot;</span></span>
<span class="line"><span style="color:#6F42C1;">&quot;system&quot;</span><span style="color:#24292E;">			</span><span style="color:#032F62;">&quot;1.3.6.1.2.1.1&quot;</span></span>
<span class="line"><span style="color:#6F42C1;">&quot;sysDescr&quot;</span><span style="color:#24292E;">			</span><span style="color:#032F62;">&quot;1.3.6.1.2.1.1.1&quot;</span></span>
<span class="line"><span style="color:#6F42C1;">&quot;sysObjectID&quot;</span><span style="color:#24292E;">			</span><span style="color:#032F62;">&quot;1.3.6.1.2.1.1.2&quot;</span></span>
<span class="line"><span style="color:#6F42C1;">&quot;sysUpTime&quot;</span><span style="color:#24292E;">			</span><span style="color:#032F62;">&quot;1.3.6.1.2.1.1.3&quot;</span></span>
<span class="line"><span style="color:#6F42C1;">&quot;sysUpTimeInstance&quot;</span><span style="color:#24292E;">			</span><span style="color:#032F62;">&quot;1.3.6.1.</span></span></code></pre></div><p>当执行<code>snmp</code>采集程序的时候程序会查询固定位置的<code>MIB</code>文件，如果存在，则翻译，所以如果有自定义的<code>MIB</code>文件，直接放入到指定位置即可获取到翻译后的查询，默认<code>MIB</code>文件的位置如下</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">snmpwalk</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--help</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">-M</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">DIR[:...]</span><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">look</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">in</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">given</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">list</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">of</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">directories</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MIBs</span></span>
<span class="line"><span style="color:#E1E4E8;">    (</span><span style="color:#B392F0;">default:</span><span style="color:#E1E4E8;"> $HOME</span><span style="color:#9ECBFF;">/.snmp/mibs:/usr/share/snmp/mibs:/usr/share/snmp/mibs/iana:/usr/share/snmp/mibs/ietf</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">snmpwalk</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--help</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">-M</span><span style="color:#24292E;"> </span><span style="color:#032F62;">DIR[:...]</span><span style="color:#24292E;">          </span><span style="color:#032F62;">look</span><span style="color:#24292E;"> </span><span style="color:#032F62;">in</span><span style="color:#24292E;"> </span><span style="color:#032F62;">given</span><span style="color:#24292E;"> </span><span style="color:#032F62;">list</span><span style="color:#24292E;"> </span><span style="color:#032F62;">of</span><span style="color:#24292E;"> </span><span style="color:#032F62;">directories</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MIBs</span></span>
<span class="line"><span style="color:#24292E;">    (</span><span style="color:#6F42C1;">default:</span><span style="color:#24292E;"> $HOME</span><span style="color:#032F62;">/.snmp/mibs:/usr/share/snmp/mibs:/usr/share/snmp/mibs/iana:/usr/share/snmp/mibs/ietf</span><span style="color:#24292E;">)</span></span></code></pre></div><h2 id="测试基本的信息获取" tabindex="-1">测试基本的信息获取 <a class="header-anchor" href="#测试基本的信息获取" aria-label="Permalink to &quot;测试基本的信息获取&quot;">​</a></h2><h4 id="snmp1和snmpv2c" tabindex="-1"><code>snmp1</code>和<code>snmpv2c</code> <a class="header-anchor" href="#snmp1和snmpv2c" aria-label="Permalink to &quot;\`snmp1\`和\`snmpv2c\`&quot;">​</a></h4><p><code>snmpwalk</code>是安装<code>snmp</code>服务时候附加安装的工具，可用于测试<code>snmp</code>服务的访问</p><p><code>-v</code>参数是用于指定版本</p><p><code>-c</code>参数指定团体字认证参数，由于默认是<code>public</code>，所以可以直接使用该参数</p><p><code>localhost</code>是指定代理服务器的地址，由于现在代理和管理站安装在同一台机器，所以使用<code>localhost</code>作为代理的地址</p><p><code>.1.3.6.1.2.1.1.1</code>表示的是<code>OID</code>的参数信息，该参数表示系统主机信息</p><p>下面两条命令的输出是一样的</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">snmpwalk</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-c</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">localhost</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">.1.3.6.1.2.1.1.1</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">snmpwalk</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">c</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-c</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">localhost</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">.1.3.6.1.2.1.1.1</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysDescr.0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Linux</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">gong</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">5.15</span><span style="color:#9ECBFF;">.0-48-generic</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;">#54-Ubuntu SMP Fri Aug 26 13:26:29 UTC 2022 x86_64</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">snmpwalk</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-v</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-c</span><span style="color:#24292E;"> </span><span style="color:#032F62;">public</span><span style="color:#24292E;"> </span><span style="color:#032F62;">localhost</span><span style="color:#24292E;"> </span><span style="color:#032F62;">.1.3.6.1.2.1.1.1</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">snmpwalk</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-v</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">c</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-c</span><span style="color:#24292E;"> </span><span style="color:#032F62;">public</span><span style="color:#24292E;"> </span><span style="color:#032F62;">localhost</span><span style="color:#24292E;"> </span><span style="color:#032F62;">.1.3.6.1.2.1.1.1</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysDescr.0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Linux</span><span style="color:#24292E;"> </span><span style="color:#032F62;">gong</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">5.15</span><span style="color:#032F62;">.0-48-generic</span><span style="color:#24292E;"> </span><span style="color:#6A737D;">#54-Ubuntu SMP Fri Aug 26 13:26:29 UTC 2022 x86_64</span></span></code></pre></div><p>如果想获取更多信息，需要把<code>OID</code>的参数改短一些</p><p>比如改成<code>.1.3.6.1.2</code>，获取到的数据就更多了，<code>snmp</code>获取信息的时候是采用前缀匹配的形式，当指定的<code>OID</code>越短，匹配的信息也就越多</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">snmpwalk</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-c</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">localhost</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">.1.3.6.1.2</span><span style="color:#E1E4E8;">      </span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysDescr.0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Linux</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">gong</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">5.15</span><span style="color:#9ECBFF;">.0-48-generic</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;">#54-Ubuntu SMP Fri Aug 26 13:26:29 UTC 2022 x86_64</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysObjectID.0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">OID:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">NET-SNMP-MIB::netSnmpAgentOIDs.10</span></span>
<span class="line"><span style="color:#B392F0;">DISMAN-EVENT-MIB::sysUpTimeInstance</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Timeticks:</span><span style="color:#E1E4E8;"> (234221) 0:39:02.21</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysContact.0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Me</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">me@example.or</span><span style="color:#E1E4E8;">g</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysName.0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">gong</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysLocation.0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Sitting</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">on</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Dock</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">of</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Bay</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysServices.0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">INTEGER:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">72</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORLastChange.0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Timeticks:</span><span style="color:#E1E4E8;"> (0) 0:00:00.00</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORID.1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">OID:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">SNMP-FRAMEWORK-MIB::snmpFrameworkMIBCompliance</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORID.2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">OID:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">SNMP-MPD-MIB::snmpMPDCompliance</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORID.3</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">OID:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">SNMP-USER-BASED-SM-MIB::usmMIBCompliance</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORID.4</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">OID:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">SNMPv2-MIB::snmpMIB</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORID.5</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">OID:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">SNMP-VIEW-BASED-ACM-MIB::vacmBasicGroup</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORID.6</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">OID:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">TCP-MIB::tcpMIB</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORID.7</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">OID:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">UDP-MIB::udpMIB</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORID.8</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">OID:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">IP-MIB::ip</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORID.9</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">OID:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">SNMP-NOTIFICATION-MIB::snmpNotifyFullCompliance</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORID.10</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">OID:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">NOTIFICATION-LOG-MIB::notificationLogMIB</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORDescr.1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">The</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">SNMP</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Management</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Architecture</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MIB.</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORDescr.2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">The</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MIB</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Message</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Processing</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">and</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Dispatching.</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORDescr.3</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">The</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">management</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">information</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">definitions</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">SNMP</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">User-based</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Security</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Model.</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORDescr.4</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">The</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MIB</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">module</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">SNMPv2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">entities</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORDescr.5</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">View-based</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Access</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Control</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Model</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">SNMP.</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORDescr.6</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">The</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MIB</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">module</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">managing</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">TCP</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">implementations</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORDescr.7</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">The</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MIB</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">module</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">managing</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">UDP</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">implementations</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORDescr.8</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">The</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MIB</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">module</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">managing</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">IP</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">and</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ICMP</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">implementations</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORDescr.9</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">The</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MIB</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">modules</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">managing</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">SNMP</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Notification,</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">plus</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">filtering.</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORDescr.10</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">The</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MIB</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">module</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">logging</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">SNMP</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Notifications.</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORUpTime.1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Timeticks:</span><span style="color:#E1E4E8;"> (0) 0:00:00.00</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORUpTime.2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Timeticks:</span><span style="color:#E1E4E8;"> (0) 0:00:00.00</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORUpTime.3</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Timeticks:</span><span style="color:#E1E4E8;"> (0) 0:00:00.00</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORUpTime.4</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Timeticks:</span><span style="color:#E1E4E8;"> (0) 0:00:00.00</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORUpTime.5</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Timeticks:</span><span style="color:#E1E4E8;"> (0) 0:00:00.00</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORUpTime.6</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Timeticks:</span><span style="color:#E1E4E8;"> (0) 0:00:00.00</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORUpTime.7</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Timeticks:</span><span style="color:#E1E4E8;"> (0) 0:00:00.00</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORUpTime.8</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Timeticks:</span><span style="color:#E1E4E8;"> (0) 0:00:00.00</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORUpTime.9</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Timeticks:</span><span style="color:#E1E4E8;"> (0) 0:00:00.00</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORUpTime.10</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Timeticks:</span><span style="color:#E1E4E8;"> (0) 0:00:00.00</span></span>
<span class="line"><span style="color:#B392F0;">HOST-RESOURCES-MIB::hrSystemUptime.0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Timeticks:</span><span style="color:#E1E4E8;"> (451727) 1:15:17.27</span></span>
<span class="line"><span style="color:#B392F0;">HOST-RESOURCES-MIB::hrSystemDate.0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2022</span><span style="color:#9ECBFF;">-9-25,11:0:56.0,+8:0</span></span>
<span class="line"><span style="color:#B392F0;">HOST-RESOURCES-MIB::hrSystemInitialLoadDevice.0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">INTEGER:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">393216</span></span>
<span class="line"><span style="color:#B392F0;">HOST-RESOURCES-MIB::hrSystemInitialLoadParameters.0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;BOOT_IMAGE=/vmlinuz-5.15.0-48-generic root=UUID=ef5920a3-64eb-4d3f-b794-156d2d97cef9 ro quiet splash vt.handoff=7</span></span>
<span class="line"><span style="color:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="color:#B392F0;">HOST-RESOURCES-MIB::hrSystemNumUsers.0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Gauge32:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span></span>
<span class="line"><span style="color:#B392F0;">HOST-RESOURCES-MIB::hrSystemProcesses.0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Gauge32:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">461</span></span>
<span class="line"><span style="color:#B392F0;">HOST-RESOURCES-MIB::hrSystemMaxProcesses.0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">INTEGER:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#B392F0;">End</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">of</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MIB</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">snmpwalk</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-v</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-c</span><span style="color:#24292E;"> </span><span style="color:#032F62;">public</span><span style="color:#24292E;"> </span><span style="color:#032F62;">localhost</span><span style="color:#24292E;"> </span><span style="color:#032F62;">.1.3.6.1.2</span><span style="color:#24292E;">      </span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysDescr.0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Linux</span><span style="color:#24292E;"> </span><span style="color:#032F62;">gong</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">5.15</span><span style="color:#032F62;">.0-48-generic</span><span style="color:#24292E;"> </span><span style="color:#6A737D;">#54-Ubuntu SMP Fri Aug 26 13:26:29 UTC 2022 x86_64</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysObjectID.0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">OID:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">NET-SNMP-MIB::netSnmpAgentOIDs.10</span></span>
<span class="line"><span style="color:#6F42C1;">DISMAN-EVENT-MIB::sysUpTimeInstance</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Timeticks:</span><span style="color:#24292E;"> (234221) 0:39:02.21</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysContact.0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Me</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">me@example.or</span><span style="color:#24292E;">g</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysName.0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">gong</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysLocation.0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Sitting</span><span style="color:#24292E;"> </span><span style="color:#032F62;">on</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Dock</span><span style="color:#24292E;"> </span><span style="color:#032F62;">of</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Bay</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysServices.0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">INTEGER:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">72</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORLastChange.0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Timeticks:</span><span style="color:#24292E;"> (0) 0:00:00.00</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORID.1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">OID:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">SNMP-FRAMEWORK-MIB::snmpFrameworkMIBCompliance</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORID.2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">OID:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">SNMP-MPD-MIB::snmpMPDCompliance</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORID.3</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">OID:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">SNMP-USER-BASED-SM-MIB::usmMIBCompliance</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORID.4</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">OID:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">SNMPv2-MIB::snmpMIB</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORID.5</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">OID:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">SNMP-VIEW-BASED-ACM-MIB::vacmBasicGroup</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORID.6</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">OID:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">TCP-MIB::tcpMIB</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORID.7</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">OID:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">UDP-MIB::udpMIB</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORID.8</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">OID:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">IP-MIB::ip</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORID.9</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">OID:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">SNMP-NOTIFICATION-MIB::snmpNotifyFullCompliance</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORID.10</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">OID:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">NOTIFICATION-LOG-MIB::notificationLogMIB</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORDescr.1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">The</span><span style="color:#24292E;"> </span><span style="color:#032F62;">SNMP</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Management</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Architecture</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MIB.</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORDescr.2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">The</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MIB</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Message</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Processing</span><span style="color:#24292E;"> </span><span style="color:#032F62;">and</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Dispatching.</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORDescr.3</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">The</span><span style="color:#24292E;"> </span><span style="color:#032F62;">management</span><span style="color:#24292E;"> </span><span style="color:#032F62;">information</span><span style="color:#24292E;"> </span><span style="color:#032F62;">definitions</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">SNMP</span><span style="color:#24292E;"> </span><span style="color:#032F62;">User-based</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Security</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Model.</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORDescr.4</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">The</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MIB</span><span style="color:#24292E;"> </span><span style="color:#032F62;">module</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">SNMPv2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">entities</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORDescr.5</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">View-based</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Access</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Control</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Model</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">SNMP.</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORDescr.6</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">The</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MIB</span><span style="color:#24292E;"> </span><span style="color:#032F62;">module</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">managing</span><span style="color:#24292E;"> </span><span style="color:#032F62;">TCP</span><span style="color:#24292E;"> </span><span style="color:#032F62;">implementations</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORDescr.7</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">The</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MIB</span><span style="color:#24292E;"> </span><span style="color:#032F62;">module</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">managing</span><span style="color:#24292E;"> </span><span style="color:#032F62;">UDP</span><span style="color:#24292E;"> </span><span style="color:#032F62;">implementations</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORDescr.8</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">The</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MIB</span><span style="color:#24292E;"> </span><span style="color:#032F62;">module</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">managing</span><span style="color:#24292E;"> </span><span style="color:#032F62;">IP</span><span style="color:#24292E;"> </span><span style="color:#032F62;">and</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ICMP</span><span style="color:#24292E;"> </span><span style="color:#032F62;">implementations</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORDescr.9</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">The</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MIB</span><span style="color:#24292E;"> </span><span style="color:#032F62;">modules</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">managing</span><span style="color:#24292E;"> </span><span style="color:#032F62;">SNMP</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Notification,</span><span style="color:#24292E;"> </span><span style="color:#032F62;">plus</span><span style="color:#24292E;"> </span><span style="color:#032F62;">filtering.</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORDescr.10</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">The</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MIB</span><span style="color:#24292E;"> </span><span style="color:#032F62;">module</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">logging</span><span style="color:#24292E;"> </span><span style="color:#032F62;">SNMP</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Notifications.</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORUpTime.1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Timeticks:</span><span style="color:#24292E;"> (0) 0:00:00.00</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORUpTime.2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Timeticks:</span><span style="color:#24292E;"> (0) 0:00:00.00</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORUpTime.3</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Timeticks:</span><span style="color:#24292E;"> (0) 0:00:00.00</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORUpTime.4</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Timeticks:</span><span style="color:#24292E;"> (0) 0:00:00.00</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORUpTime.5</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Timeticks:</span><span style="color:#24292E;"> (0) 0:00:00.00</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORUpTime.6</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Timeticks:</span><span style="color:#24292E;"> (0) 0:00:00.00</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORUpTime.7</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Timeticks:</span><span style="color:#24292E;"> (0) 0:00:00.00</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORUpTime.8</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Timeticks:</span><span style="color:#24292E;"> (0) 0:00:00.00</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORUpTime.9</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Timeticks:</span><span style="color:#24292E;"> (0) 0:00:00.00</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORUpTime.10</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Timeticks:</span><span style="color:#24292E;"> (0) 0:00:00.00</span></span>
<span class="line"><span style="color:#6F42C1;">HOST-RESOURCES-MIB::hrSystemUptime.0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Timeticks:</span><span style="color:#24292E;"> (451727) 1:15:17.27</span></span>
<span class="line"><span style="color:#6F42C1;">HOST-RESOURCES-MIB::hrSystemDate.0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2022</span><span style="color:#032F62;">-9-25,11:0:56.0,+8:0</span></span>
<span class="line"><span style="color:#6F42C1;">HOST-RESOURCES-MIB::hrSystemInitialLoadDevice.0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">INTEGER:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">393216</span></span>
<span class="line"><span style="color:#6F42C1;">HOST-RESOURCES-MIB::hrSystemInitialLoadParameters.0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;BOOT_IMAGE=/vmlinuz-5.15.0-48-generic root=UUID=ef5920a3-64eb-4d3f-b794-156d2d97cef9 ro quiet splash vt.handoff=7</span></span>
<span class="line"><span style="color:#032F62;">&quot;</span></span>
<span class="line"><span style="color:#6F42C1;">HOST-RESOURCES-MIB::hrSystemNumUsers.0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Gauge32:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span></span>
<span class="line"><span style="color:#6F42C1;">HOST-RESOURCES-MIB::hrSystemProcesses.0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Gauge32:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">461</span></span>
<span class="line"><span style="color:#6F42C1;">HOST-RESOURCES-MIB::hrSystemMaxProcesses.0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">INTEGER:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#6F42C1;">End</span><span style="color:#24292E;"> </span><span style="color:#032F62;">of</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MIB</span></span></code></pre></div><p>返回数据详解</p><p>主要格式是<code>SNMPv2-MIB::{OID[可读字符串]}.{细分点,从0开始} = {数据格式}: {数据信息}</code></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">SNMPv2-MIB::sysDescr.0 = STRING: Linux gong 5.15.0-48-generic #54-Ubuntu SMP Fri Aug 26 13:26:29 UTC 2022 x86_64</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">SNMPv2-MIB::sysDescr.0 = STRING: Linux gong 5.15.0-48-generic #54-Ubuntu SMP Fri Aug 26 13:26:29 UTC 2022 x86_64</span></span></code></pre></div><p>修改<code>OID</code>参数，注意前缀匹配导致的获取数据返回</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">snmpwalk</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-u</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">gong</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">SHA</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-A</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">authtest</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">AES</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-X</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">privtest</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-l</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">authPriv</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">localhost</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">sysORDescr.10</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORDescr.10</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">The</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MIB</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">module</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">logging</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">SNMP</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Notifications.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">snmpwalk</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-u</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">gong</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">SHA</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-A</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">authtest</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">AES</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-X</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">privtest</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-l</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">authPriv</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">localhost</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">sysORDescr</span><span style="color:#E1E4E8;">   </span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORDescr.1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">The</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">SNMP</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Management</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Architecture</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MIB.</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORDescr.2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">The</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MIB</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Message</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Processing</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">and</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Dispatching.</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORDescr.3</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">The</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">management</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">information</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">definitions</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">SNMP</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">User-based</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Security</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Model.</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORDescr.4</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">The</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MIB</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">module</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">SNMPv2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">entities</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORDescr.5</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">View-based</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Access</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Control</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Model</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">SNMP.</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORDescr.6</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">The</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MIB</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">module</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">managing</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">TCP</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">implementations</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORDescr.7</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">The</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MIB</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">module</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">managing</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">UDP</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">implementations</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORDescr.8</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">The</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MIB</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">module</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">managing</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">IP</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">and</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ICMP</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">implementations</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORDescr.9</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">The</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MIB</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">modules</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">managing</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">SNMP</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Notification,</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">plus</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">filtering.</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysORDescr.10</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">The</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MIB</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">module</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">logging</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">SNMP</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Notifications.</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">snmpwalk</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-v</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">3</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-u</span><span style="color:#24292E;"> </span><span style="color:#032F62;">gong</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">SHA</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-A</span><span style="color:#24292E;"> </span><span style="color:#032F62;">authtest</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">AES</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-X</span><span style="color:#24292E;"> </span><span style="color:#032F62;">privtest</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-l</span><span style="color:#24292E;"> </span><span style="color:#032F62;">authPriv</span><span style="color:#24292E;"> </span><span style="color:#032F62;">localhost</span><span style="color:#24292E;"> </span><span style="color:#032F62;">sysORDescr.10</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORDescr.10</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">The</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MIB</span><span style="color:#24292E;"> </span><span style="color:#032F62;">module</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">logging</span><span style="color:#24292E;"> </span><span style="color:#032F62;">SNMP</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Notifications.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">snmpwalk</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-v</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">3</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-u</span><span style="color:#24292E;"> </span><span style="color:#032F62;">gong</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">SHA</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-A</span><span style="color:#24292E;"> </span><span style="color:#032F62;">authtest</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">AES</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-X</span><span style="color:#24292E;"> </span><span style="color:#032F62;">privtest</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-l</span><span style="color:#24292E;"> </span><span style="color:#032F62;">authPriv</span><span style="color:#24292E;"> </span><span style="color:#032F62;">localhost</span><span style="color:#24292E;"> </span><span style="color:#032F62;">sysORDescr</span><span style="color:#24292E;">   </span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORDescr.1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">The</span><span style="color:#24292E;"> </span><span style="color:#032F62;">SNMP</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Management</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Architecture</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MIB.</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORDescr.2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">The</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MIB</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Message</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Processing</span><span style="color:#24292E;"> </span><span style="color:#032F62;">and</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Dispatching.</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORDescr.3</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">The</span><span style="color:#24292E;"> </span><span style="color:#032F62;">management</span><span style="color:#24292E;"> </span><span style="color:#032F62;">information</span><span style="color:#24292E;"> </span><span style="color:#032F62;">definitions</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">SNMP</span><span style="color:#24292E;"> </span><span style="color:#032F62;">User-based</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Security</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Model.</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORDescr.4</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">The</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MIB</span><span style="color:#24292E;"> </span><span style="color:#032F62;">module</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">SNMPv2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">entities</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORDescr.5</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">View-based</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Access</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Control</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Model</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">SNMP.</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORDescr.6</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">The</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MIB</span><span style="color:#24292E;"> </span><span style="color:#032F62;">module</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">managing</span><span style="color:#24292E;"> </span><span style="color:#032F62;">TCP</span><span style="color:#24292E;"> </span><span style="color:#032F62;">implementations</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORDescr.7</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">The</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MIB</span><span style="color:#24292E;"> </span><span style="color:#032F62;">module</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">managing</span><span style="color:#24292E;"> </span><span style="color:#032F62;">UDP</span><span style="color:#24292E;"> </span><span style="color:#032F62;">implementations</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORDescr.8</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">The</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MIB</span><span style="color:#24292E;"> </span><span style="color:#032F62;">module</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">managing</span><span style="color:#24292E;"> </span><span style="color:#032F62;">IP</span><span style="color:#24292E;"> </span><span style="color:#032F62;">and</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ICMP</span><span style="color:#24292E;"> </span><span style="color:#032F62;">implementations</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORDescr.9</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">The</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MIB</span><span style="color:#24292E;"> </span><span style="color:#032F62;">modules</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">managing</span><span style="color:#24292E;"> </span><span style="color:#032F62;">SNMP</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Notification,</span><span style="color:#24292E;"> </span><span style="color:#032F62;">plus</span><span style="color:#24292E;"> </span><span style="color:#032F62;">filtering.</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysORDescr.10</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">The</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MIB</span><span style="color:#24292E;"> </span><span style="color:#032F62;">module</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">logging</span><span style="color:#24292E;"> </span><span style="color:#032F62;">SNMP</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Notifications.</span></span></code></pre></div><h4 id="snmp3" tabindex="-1"><code>snmp3</code> <a class="header-anchor" href="#snmp3" aria-label="Permalink to &quot;\`snmp3\`&quot;">​</a></h4><p>由于<code>v3</code>版本采用基于用户的认证方式，所以需要先创建一个测试用户用于认证</p><p>创建用户的过程当中需要停止<code>snmpd</code>服务</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">systemctl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">stop</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">snmpd</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">systemctl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">stop</span><span style="color:#24292E;"> </span><span style="color:#032F62;">snmpd</span></span></code></pre></div><p>创建用户的命令格式如下，<code>net-snmp-create-v3-user</code>是安装软件时<code>libsnmp-dev</code>包提供的</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">net-snmp-create-v3-user</span><span style="color:#E1E4E8;"> [-ro] [-A authpass] [-X privpass] [-a MD5</span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">SHA</span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">SHA-512</span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">SHA-384</span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">SHA-256</span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">SHA-224] [-x DES</span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">AES] [username]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">net-snmp-create-v3-user</span><span style="color:#24292E;"> [-ro] [-A authpass] [-X privpass] [-a MD5</span><span style="color:#D73A49;">|</span><span style="color:#24292E;">SHA</span><span style="color:#D73A49;">|</span><span style="color:#24292E;">SHA-512</span><span style="color:#D73A49;">|</span><span style="color:#24292E;">SHA-384</span><span style="color:#D73A49;">|</span><span style="color:#24292E;">SHA-256</span><span style="color:#D73A49;">|</span><span style="color:#24292E;">SHA-224] [-x DES</span><span style="color:#D73A49;">|</span><span style="color:#24292E;">AES] [username]</span></span></code></pre></div><p><code>-ro</code>参数表示该用户只读</p><p><code>-A</code>指定用户密码短语，至少为8个字符，用于生成身份验证密钥</p><p><code>-X</code>至少为8字符，用于生成加密密钥</p><p><code>-a</code>指定用户身份验证类型，该指定会使用不同的算法进行运算</p><p><code>-x</code>指定加密验证类型</p><p>创建一个用户如下, 采用认证参数<code>authtest</code>，认证加密算法采用<code>SHA</code>，加密参数<code>privtest</code>，加密算法采用<code>AES</code>，指定用户名称<code>gong</code></p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">net-snmp-create-v3-user</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-ro</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-A</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">authtest</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">SHA</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-X</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">privtest</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">AES</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">gong</span></span>
<span class="line"><span style="color:#B392F0;">adding</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">following</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">line</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">to</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/var/lib/snmp/snmpd.conf:</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#B392F0;">createUser</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">gong</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">SHA</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;authtest&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">AES</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;privtest&quot;</span></span>
<span class="line"><span style="color:#B392F0;">adding</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">following</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">line</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">to</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/share/snmp/snmpd.conf:</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#B392F0;">rouser</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">gong</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">net-snmp-create-v3-user</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-ro</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-A</span><span style="color:#24292E;"> </span><span style="color:#032F62;">authtest</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">SHA</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-X</span><span style="color:#24292E;"> </span><span style="color:#032F62;">privtest</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">AES</span><span style="color:#24292E;"> </span><span style="color:#032F62;">gong</span></span>
<span class="line"><span style="color:#6F42C1;">adding</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">following</span><span style="color:#24292E;"> </span><span style="color:#032F62;">line</span><span style="color:#24292E;"> </span><span style="color:#032F62;">to</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/var/lib/snmp/snmpd.conf:</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6F42C1;">createUser</span><span style="color:#24292E;"> </span><span style="color:#032F62;">gong</span><span style="color:#24292E;"> </span><span style="color:#032F62;">SHA</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;authtest&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">AES</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;privtest&quot;</span></span>
<span class="line"><span style="color:#6F42C1;">adding</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">following</span><span style="color:#24292E;"> </span><span style="color:#032F62;">line</span><span style="color:#24292E;"> </span><span style="color:#032F62;">to</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/usr/share/snmp/snmpd.conf:</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6F42C1;">rouser</span><span style="color:#24292E;"> </span><span style="color:#032F62;">gong</span></span></code></pre></div><p>依据提示的信息去查看对应修改的文件</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">cat</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/var/lib/snmp/snmpd.conf</span></span>
<span class="line"><span style="color:#6A737D;">#发现最后一行是刚刚填写的认证信息</span></span>
<span class="line"><span style="color:#79B8FF;">...</span></span>
<span class="line"><span style="color:#B392F0;">createUser</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">gong</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">SHA</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;authtest&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">AES</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;privtest&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">cat</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/var/lib/snmp/snmpd.conf</span></span>
<span class="line"><span style="color:#6A737D;">#发现最后一行是刚刚填写的认证信息</span></span>
<span class="line"><span style="color:#005CC5;">...</span></span>
<span class="line"><span style="color:#6F42C1;">createUser</span><span style="color:#24292E;"> </span><span style="color:#032F62;">gong</span><span style="color:#24292E;"> </span><span style="color:#032F62;">SHA</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;authtest&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">AES</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;privtest&quot;</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">cat</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/share/snmp/snmpd.conf</span></span>
<span class="line"><span style="color:#6A737D;"># 最后一行是如下</span></span>
<span class="line"><span style="color:#B392F0;">rouser</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">gong</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">cat</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/usr/share/snmp/snmpd.conf</span></span>
<span class="line"><span style="color:#6A737D;"># 最后一行是如下</span></span>
<span class="line"><span style="color:#6F42C1;">rouser</span><span style="color:#24292E;"> </span><span style="color:#032F62;">gong</span></span></code></pre></div><p>重启服务并且进行验证</p><p>参数中指定版本，用户名称，认证算法<code>SHA</code>，认证参数<code>authtest</code>，加密算法<code>AES</code>，加密参数<code>privtest</code></p><p><code>-l</code>指定安全级别，可选参数有<code>noAuthNoPriv</code>,<code>authNoPriv</code>,<code>authPriv</code>，由于创建的用户同时指定了认证和加密，所以现在该参数填写<code>authPriv</code></p><p>由于<code>MIB</code>库的存在，<code>OID</code>参数也可以传递可读字符串</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">systemctl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">restart</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">snmpd</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">snmpwalk</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-u</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">gong</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">SHA</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-A</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">authtest</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">AES</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-X</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">privtest</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-l</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">authPriv</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">localhost</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">sysDescr</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">systemctl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">restart</span><span style="color:#24292E;"> </span><span style="color:#032F62;">snmpd</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">snmpwalk</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-v</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">3</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-u</span><span style="color:#24292E;"> </span><span style="color:#032F62;">gong</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">SHA</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-A</span><span style="color:#24292E;"> </span><span style="color:#032F62;">authtest</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">AES</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-X</span><span style="color:#24292E;"> </span><span style="color:#032F62;">privtest</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-l</span><span style="color:#24292E;"> </span><span style="color:#032F62;">authPriv</span><span style="color:#24292E;"> </span><span style="color:#032F62;">localhost</span><span style="color:#24292E;"> </span><span style="color:#032F62;">sysDescr</span></span></code></pre></div><h2 id="访问信息范围控制" tabindex="-1">访问信息范围控制 <a class="header-anchor" href="#访问信息范围控制" aria-label="Permalink to &quot;访问信息范围控制&quot;">​</a></h2><p>有些时候我们需要获取一些信息，但是执行命令的时候发现获取不到，但是知道应该是有这个信息的</p><p>比如现在需要获取网卡信息</p><p>执行命令如下，网卡信息对应的<code>OID</code>是<code>.1.3.6.1.2.1.31.1.1.1.1</code>或者<code>ifName</code></p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">snmpwalk</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">c</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-c</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">localhost</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">.1.3.6.1.2.1.31.1.1.1.1</span></span>
<span class="line"><span style="color:#B392F0;">IF-MIB::ifName</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">No</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">more</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">variables</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">left</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">in</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">this</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MIB</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">View</span><span style="color:#E1E4E8;"> (It </span><span style="color:#9ECBFF;">is</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">past</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">end</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">of</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MIB</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tree</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">snmpwalk</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-v</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">c</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-c</span><span style="color:#24292E;"> </span><span style="color:#032F62;">public</span><span style="color:#24292E;"> </span><span style="color:#032F62;">localhost</span><span style="color:#24292E;"> </span><span style="color:#032F62;">.1.3.6.1.2.1.31.1.1.1.1</span></span>
<span class="line"><span style="color:#6F42C1;">IF-MIB::ifName</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">No</span><span style="color:#24292E;"> </span><span style="color:#032F62;">more</span><span style="color:#24292E;"> </span><span style="color:#032F62;">variables</span><span style="color:#24292E;"> </span><span style="color:#032F62;">left</span><span style="color:#24292E;"> </span><span style="color:#032F62;">in</span><span style="color:#24292E;"> </span><span style="color:#032F62;">this</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MIB</span><span style="color:#24292E;"> </span><span style="color:#032F62;">View</span><span style="color:#24292E;"> (It </span><span style="color:#032F62;">is</span><span style="color:#24292E;"> </span><span style="color:#032F62;">past</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">end</span><span style="color:#24292E;"> </span><span style="color:#032F62;">of</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MIB</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tree</span><span style="color:#24292E;">)</span></span></code></pre></div><p>主要是配置文件当中限制了代理可以返回的信息，修改<code>/etc/snmp/snmpd.conf</code></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">#找到下面两行配置</span></span>
<span class="line"><span style="color:#e1e4e8;">view   systemonly  included   .1.3.6.1.2.1.1</span></span>
<span class="line"><span style="color:#e1e4e8;">view   systemonly  included   .1.3.6.1.2.1.25.1</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;"># 添加一行，不要开放太多信息，需要实际按需开放</span></span>
<span class="line"><span style="color:#e1e4e8;">view   systemonly  included   .1.3.6.1.2.1.31.1.1.1.1</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;"># 或者图省事也可以添加一行，这样就开放了所以信息了，生产环境需要慎重</span></span>
<span class="line"><span style="color:#e1e4e8;">view   systemonly  included   .1</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">#找到下面两行配置</span></span>
<span class="line"><span style="color:#24292e;">view   systemonly  included   .1.3.6.1.2.1.1</span></span>
<span class="line"><span style="color:#24292e;">view   systemonly  included   .1.3.6.1.2.1.25.1</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;"># 添加一行，不要开放太多信息，需要实际按需开放</span></span>
<span class="line"><span style="color:#24292e;">view   systemonly  included   .1.3.6.1.2.1.31.1.1.1.1</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;"># 或者图省事也可以添加一行，这样就开放了所以信息了，生产环境需要慎重</span></span>
<span class="line"><span style="color:#24292e;">view   systemonly  included   .1</span></span></code></pre></div><p>重启服务</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">systemctl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">restart</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">snmpd</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">systemctl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">restart</span><span style="color:#24292E;"> </span><span style="color:#032F62;">snmpd</span></span></code></pre></div><p>执行命令，查看输出，发现获取数据成功</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">snmpwalk</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">c</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-c</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">localhost</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">.1.3.6.1.2.1.31.1.1.1.1</span></span>
<span class="line"><span style="color:#B392F0;">IF-MIB::ifName.1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">lo</span></span>
<span class="line"><span style="color:#B392F0;">IF-MIB::ifName.2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">enp3s0</span></span>
<span class="line"><span style="color:#B392F0;">IF-MIB::ifName.3</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">wlp4s0</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">snmpwalk</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-v</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">c</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-c</span><span style="color:#24292E;"> </span><span style="color:#032F62;">public</span><span style="color:#24292E;"> </span><span style="color:#032F62;">localhost</span><span style="color:#24292E;"> </span><span style="color:#032F62;">.1.3.6.1.2.1.31.1.1.1.1</span></span>
<span class="line"><span style="color:#6F42C1;">IF-MIB::ifName.1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">lo</span></span>
<span class="line"><span style="color:#6F42C1;">IF-MIB::ifName.2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">enp3s0</span></span>
<span class="line"><span style="color:#6F42C1;">IF-MIB::ifName.3</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">wlp4s0</span></span></code></pre></div><h2 id="snmp1-snmp2c配置共同体认证参数" tabindex="-1"><code>snmp1</code>, <code>snmp2c</code>配置共同体认证参数 <a class="header-anchor" href="#snmp1-snmp2c配置共同体认证参数" aria-label="Permalink to &quot;\`snmp1\`, \`snmp2c\`配置共同体认证参数&quot;">​</a></h2><p>修改<code>/etc/snmp/snmpd.conf</code>，其中默认的认证参数是<code>public</code>，这个参数由于是默认的，公开的，不安全，所以需要修改为别的参数</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;"># 修改以下</span></span>
<span class="line"><span style="color:#e1e4e8;">rocommunity  public default -V systemonly</span></span>
<span class="line"><span style="color:#e1e4e8;">rocommunity6 public default -V systemonly</span></span>
<span class="line"><span style="color:#e1e4e8;"># 变成</span></span>
<span class="line"><span style="color:#e1e4e8;">rocommunity  changed default -V systemonly</span></span>
<span class="line"><span style="color:#e1e4e8;">rocommunity6 changed default -V systemonly</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;"># 修改以下</span></span>
<span class="line"><span style="color:#24292e;">rocommunity  public default -V systemonly</span></span>
<span class="line"><span style="color:#24292e;">rocommunity6 public default -V systemonly</span></span>
<span class="line"><span style="color:#24292e;"># 变成</span></span>
<span class="line"><span style="color:#24292e;">rocommunity  changed default -V systemonly</span></span>
<span class="line"><span style="color:#24292e;">rocommunity6 changed default -V systemonly</span></span></code></pre></div><p>重启服务</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">systemctl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">restart</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">snmpd</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">systemctl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">restart</span><span style="color:#24292E;"> </span><span style="color:#032F62;">snmpd</span></span></code></pre></div><p>测试使用 <code>public</code>认证参数，发现无响应</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">snmpwalk</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">c</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-c</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">localhost</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">.1.3.6.1.4.1.2021</span></span>
<span class="line"><span style="color:#B392F0;">Timeout:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">No</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Response</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">localhost</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">snmpwalk</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-v</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">c</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-c</span><span style="color:#24292E;"> </span><span style="color:#032F62;">public</span><span style="color:#24292E;"> </span><span style="color:#032F62;">localhost</span><span style="color:#24292E;"> </span><span style="color:#032F62;">.1.3.6.1.4.1.2021</span></span>
<span class="line"><span style="color:#6F42C1;">Timeout:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">No</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Response</span><span style="color:#24292E;"> </span><span style="color:#032F62;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">localhost</span></span></code></pre></div><p>测试使用 <code>changed</code>参数，可以正常使用</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">snmpwalk</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">c</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-c</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">changed</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">localhost</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">sysDesc</span></span>
<span class="line"><span style="color:#B392F0;">SNMPv2-MIB::sysDescr.0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Linux</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">gong</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">5.15</span><span style="color:#9ECBFF;">.0-48-generic</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;">#54-Ubuntu SMP Fri Aug 26 13:26:29 UTC 2022 x86_64</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">snmpwalk</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-v</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">c</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-c</span><span style="color:#24292E;"> </span><span style="color:#032F62;">changed</span><span style="color:#24292E;"> </span><span style="color:#032F62;">localhost</span><span style="color:#24292E;"> </span><span style="color:#032F62;">sysDesc</span></span>
<span class="line"><span style="color:#6F42C1;">SNMPv2-MIB::sysDescr.0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Linux</span><span style="color:#24292E;"> </span><span style="color:#032F62;">gong</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">5.15</span><span style="color:#032F62;">.0-48-generic</span><span style="color:#24292E;"> </span><span style="color:#6A737D;">#54-Ubuntu SMP Fri Aug 26 13:26:29 UTC 2022 x86_64</span></span></code></pre></div><h2 id="开放服务远程访问" tabindex="-1">开放服务远程访问 <a class="header-anchor" href="#开放服务远程访问" aria-label="Permalink to &quot;开放服务远程访问&quot;">​</a></h2><p>查看端口开放，发现只能本地访问</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">netstat</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-anp</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">161</span></span>
<span class="line"><span style="color:#B392F0;">udp</span><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">127.0</span><span style="color:#9ECBFF;">.0.1:161</span><span style="color:#E1E4E8;">           </span><span style="color:#79B8FF;">0.0</span><span style="color:#9ECBFF;">.0.0:</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">                           </span><span style="color:#79B8FF;">210652</span><span style="color:#9ECBFF;">/snmpd</span><span style="color:#E1E4E8;">        </span></span>
<span class="line"><span style="color:#B392F0;">udp6</span><span style="color:#E1E4E8;">       </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">::1:161</span><span style="color:#E1E4E8;">                 </span><span style="color:#9ECBFF;">:::</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">                                </span><span style="color:#79B8FF;">210652</span><span style="color:#9ECBFF;">/snmpd</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">netstat</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-anp</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">161</span></span>
<span class="line"><span style="color:#6F42C1;">udp</span><span style="color:#24292E;">        </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">      </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">127.0</span><span style="color:#032F62;">.0.1:161</span><span style="color:#24292E;">           </span><span style="color:#005CC5;">0.0</span><span style="color:#032F62;">.0.0:</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">                           </span><span style="color:#005CC5;">210652</span><span style="color:#032F62;">/snmpd</span><span style="color:#24292E;">        </span></span>
<span class="line"><span style="color:#6F42C1;">udp6</span><span style="color:#24292E;">       </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">      </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">::1:161</span><span style="color:#24292E;">                 </span><span style="color:#032F62;">:::</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">                                </span><span style="color:#005CC5;">210652</span><span style="color:#032F62;">/snmpd</span></span></code></pre></div><p>修改<code>/etc/snmp/snmpd.conf</code></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;"># 修改</span></span>
<span class="line"><span style="color:#e1e4e8;">agentaddress  127.0.0.1,[::1]</span></span>
<span class="line"><span style="color:#e1e4e8;"># 变成</span></span>
<span class="line"><span style="color:#e1e4e8;">agentaddress  0.0.0.0,[::1]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;"># 修改</span></span>
<span class="line"><span style="color:#24292e;">agentaddress  127.0.0.1,[::1]</span></span>
<span class="line"><span style="color:#24292e;"># 变成</span></span>
<span class="line"><span style="color:#24292e;">agentaddress  0.0.0.0,[::1]</span></span></code></pre></div><p>重启服务后查看端口</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">netstat</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-antup</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">161</span></span>
<span class="line"><span style="color:#B392F0;">udp</span><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.0</span><span style="color:#9ECBFF;">.0.0:161</span><span style="color:#E1E4E8;">             </span><span style="color:#79B8FF;">0.0</span><span style="color:#9ECBFF;">.0.0:</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">           </span><span style="color:#79B8FF;">106387</span><span style="color:#9ECBFF;">/snmpd</span><span style="color:#E1E4E8;">        </span></span>
<span class="line"><span style="color:#B392F0;">udp6</span><span style="color:#E1E4E8;">       </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">::1:161</span><span style="color:#E1E4E8;">                 </span><span style="color:#9ECBFF;">:::</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">106387</span><span style="color:#9ECBFF;">/snmpd</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">netstat</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-antup</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">161</span></span>
<span class="line"><span style="color:#6F42C1;">udp</span><span style="color:#24292E;">        </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">      </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.0</span><span style="color:#032F62;">.0.0:161</span><span style="color:#24292E;">             </span><span style="color:#005CC5;">0.0</span><span style="color:#032F62;">.0.0:</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">           </span><span style="color:#005CC5;">106387</span><span style="color:#032F62;">/snmpd</span><span style="color:#24292E;">        </span></span>
<span class="line"><span style="color:#6F42C1;">udp6</span><span style="color:#24292E;">       </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">      </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">::1:161</span><span style="color:#24292E;">                 </span><span style="color:#032F62;">:::</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">                </span><span style="color:#005CC5;">106387</span><span style="color:#032F62;">/snmpd</span></span></code></pre></div><h2 id="mib常见映射参考" tabindex="-1"><code>MIB</code>常见映射参考 <a class="header-anchor" href="#mib常见映射参考" aria-label="Permalink to &quot;\`MIB\`常见映射参考&quot;">​</a></h2><p><code>.1.3.6.1.2.1.31.1.1.1.1</code>：<code>ifName</code>网卡信息</p><p><code>.1.3.6.1.2.1.2.2.1.10</code>：<code>ifInOctets</code>网卡入口流量</p><p><code>.1.3.6.1.2.1.2.2.1.16</code>: <code>ifOutOctets</code>网卡出口流量</p><p><code>.1.3.6.1.2.1.1.1.0</code>: <code>sysDesc</code>系统信息</p><p><code>.1.3.6.1.2.1.25.1.1.0</code>: <code>hrSystemUptime</code>系统运行时间</p><p><code>.1.3.6.1.2.1.25.3.3.1.2</code>: <code>hrProcessorLoad</code> <code>CPU</code>利用率</p><p><code>.1.3.6.1.2.1.25.4.2.1.2</code>: <code>hrSWRunName</code>进程信息</p><h2 id="snmptrap相关" tabindex="-1"><code>snmptrap</code>相关 <a class="header-anchor" href="#snmptrap相关" aria-label="Permalink to &quot;\`snmptrap\`相关&quot;">​</a></h2><p><code>snmptrapd</code>是一个<code>snmp trap</code>接收服务程序，会监听162端口，可以配置相应的处理规则</p><p>安装</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">$ sudo apt install snmptrapd</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">$ sudo apt install snmptrapd</span></span></code></pre></div><p>编辑<code>/etc/snmp/snmptrapd.conf</code>增加一行</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">authCommunity log,execute,net public</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">authCommunity log,execute,net public</span></span></code></pre></div><p>表示配置认证参数为<code>public</code>具备权限 <code>记录，可执行，传递</code></p><p>启动<code>snmptrapd</code></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">$ sudo systemctl start snmptrapd</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">$ sudo systemctl start snmptrapd</span></span></code></pre></div><p>查看启动状态</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">$ systemctl status snmptrapd</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">$ systemctl status snmptrapd</span></span></code></pre></div><p>同时也可以关闭后台程序，直接执行命令</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">$ sudo snmptrapd -LOw -f udp:162 udp6:162</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">$ sudo snmptrapd -LOw -f udp:162 udp6:162</span></span></code></pre></div><p>如果有自定义位置配置文件，可以执行命令如下</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">$ sudo snmptrapd -C -c custom-snmptrapd.conf -df -Lo</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">$ sudo snmptrapd -C -c custom-snmptrapd.conf -df -Lo</span></span></code></pre></div><ul><li><code>-C</code> ： 表示不使用<code>net-snmp</code>默认路径下的配置文件</li><li><code>-c</code> ： 指定自定义路径<code>snmptrapd.conf</code>文件</li><li><code>-d</code> ： 显示收到和发送的数据报，通过这个选项可以看到数据报文</li><li><code>-f</code> ： 默认情况下，<code>snmptrapd</code>是在后台中运行的，加上这个选项，表示在前台运行</li><li><code>-L</code> ： 指定日志记录在哪里，后面的<code>o</code>表示直接输出到屏幕上，如果是跟着<code>f</code>表示日志记录到指定的文件中</li></ul><p>如果启动过程中报错如下，表示<code>snmptrapd</code>程序没有读取到配置文件，需要赋予权限</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">八月 02 13:55:42 gong snmptrapd[132705]: Warning: no access control information configured.</span></span>
<span class="line"><span style="color:#e1e4e8;">八月 02 13:55:42 gong snmptrapd[132705]:   (Config search path: /etc/snmp:/usr/share/snmp:/usr/lib/x86_64-linux-gnu/snmp:/var/lib/snmp/.snmp)</span></span>
<span class="line"><span style="color:#e1e4e8;">八月 02 13:55:42 gong snmptrapd[132705]: This receiver will *NOT* accept any incoming notifications.</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">八月 02 13:55:42 gong snmptrapd[132705]: Warning: no access control information configured.</span></span>
<span class="line"><span style="color:#24292e;">八月 02 13:55:42 gong snmptrapd[132705]:   (Config search path: /etc/snmp:/usr/share/snmp:/usr/lib/x86_64-linux-gnu/snmp:/var/lib/snmp/.snmp)</span></span>
<span class="line"><span style="color:#24292e;">八月 02 13:55:42 gong snmptrapd[132705]: This receiver will *NOT* accept any incoming notifications.</span></span></code></pre></div><p>解决</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">$ sudo chmod a+r /etc/snmp/snmptrapd.conf</span></span>
<span class="line"><span style="color:#e1e4e8;">$ sudo systemctl restart snmptrapd</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">$ sudo chmod a+r /etc/snmp/snmptrapd.conf</span></span>
<span class="line"><span style="color:#24292e;">$ sudo systemctl restart snmptrapd</span></span></code></pre></div><p>测试启动，如下指定配置文件位置，把输出定位到终端，修改监听端口为163</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">$ sudo snmptrapd -C -c /etc/snmp/snmptrapd.conf -f -Lo udp:163 udp6:163</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">$ sudo snmptrapd -C -c /etc/snmp/snmptrapd.conf -f -Lo udp:163 udp6:163</span></span></code></pre></div><p>新启动一个终端，输入命令</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">$ sudo snmptrap -v 2c -c public 127.0.0.1:163 &quot;aaa&quot; .1.3.6.1.2.1.1.3 .1.3.6.7 s &quot;test from snmptrap tool.&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">$ sudo snmptrap -v 2c -c public 127.0.0.1:163 &quot;aaa&quot; .1.3.6.1.2.1.1.3 .1.3.6.7 s &quot;test from snmptrap tool.&quot;</span></span></code></pre></div><ul><li><code>-v 2c</code>表示采用<code>2c</code>版本</li><li><code>-c public</code>表示认证参数<code>public</code></li><li><code>127.0.0.1:163</code>表示<code>trap</code>上报地址是本机的163端口</li><li><code>aaa</code>表示<code>snmp</code>的主机名称，该位置参数可以填写一个空字符串</li><li><code>.1.3.6.1.2.1.1.3</code>是第一个<code>oid</code>，用来表示企业<code>OID</code>，目前该<code>oid</code>表示<code>sysUpTime</code></li><li><code>.1.3.6.7 s &quot;test from snmptrap tool.&quot;</code>表示上报的<code>oid</code>是<code>.1.3.6.7</code>，上传类型是字符串，后面的<code>test ....</code>是值</li></ul><p>查看<code>snmptrapd</code>终端输出如下</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">$ sudo snmptrapd -C -c /etc/snmp/snmptrapd.conf -f -Lo udp:163 udp6:163</span></span>
<span class="line"><span style="color:#e1e4e8;">NET-SNMP version 5.9.1</span></span>
<span class="line"><span style="color:#e1e4e8;">2023-08-02 14:24:15 localhost [UDP: [127.0.0.1]:51226-&gt;[127.0.0.1]:163]:</span></span>
<span class="line"><span style="color:#e1e4e8;">SNMPv2-MIB::snmpTrapOID.0 = OID: SNMPv2-MIB::sysUpTime  SNMPv2-SMI::dod.7 = STRING: &quot;test from snmptrap tool.&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">$ sudo snmptrapd -C -c /etc/snmp/snmptrapd.conf -f -Lo udp:163 udp6:163</span></span>
<span class="line"><span style="color:#24292e;">NET-SNMP version 5.9.1</span></span>
<span class="line"><span style="color:#24292e;">2023-08-02 14:24:15 localhost [UDP: [127.0.0.1]:51226-&gt;[127.0.0.1]:163]:</span></span>
<span class="line"><span style="color:#24292e;">SNMPv2-MIB::snmpTrapOID.0 = OID: SNMPv2-MIB::sysUpTime  SNMPv2-SMI::dod.7 = STRING: &quot;test from snmptrap tool.&quot;</span></span></code></pre></div><p>如果设备上没有配置<code>MIB</code>，输出可能会是如下</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">2023-08-02 14:36:17 localhost [UDP: [127.0.0.1]:51589-&gt;[127.0.0.1]:163]:</span></span>
<span class="line"><span style="color:#e1e4e8;">iso.3.6.1.6.3.1.1.4.1.0 = OID: iso.3.6.1.2.1.1.3        iso.3.6.7 = STRING: &quot;test from snmptrap tool.&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">2023-08-02 14:36:17 localhost [UDP: [127.0.0.1]:51589-&gt;[127.0.0.1]:163]:</span></span>
<span class="line"><span style="color:#24292e;">iso.3.6.1.6.3.1.1.4.1.0 = OID: iso.3.6.1.2.1.1.3        iso.3.6.7 = STRING: &quot;test from snmptrap tool.&quot;</span></span></code></pre></div><p>可以看到接收到的数据格式是<code>SNMPv2-MIB::snmpTrapOID.0 = OID: {企业OID} {字段OID} = {类型}: {参数值}</code></p><h2 id="关于读取磁盘信息超过2t字节数的问题" tabindex="-1">关于读取磁盘信息超过<code>2T</code>字节数的问题 <a class="header-anchor" href="#关于读取磁盘信息超过2t字节数的问题" aria-label="Permalink to &quot;关于读取磁盘信息超过\`2T\`字节数的问题&quot;">​</a></h2><h4 id="产生原因" tabindex="-1">产生原因 <a class="header-anchor" href="#产生原因" aria-label="Permalink to &quot;产生原因&quot;">​</a></h4><p>使用<code>snmp</code>获取磁盘信息的时候，查询<code>OID</code>是<code>.1.3.6.1.4.1.2021.9.1.6</code>，<code>MIB</code>数据库翻译映射字符串是<code>UCD-SNMP-MIB::dskTotal</code></p><p>如果某块划分磁盘的大小大于<code>2T</code>，导致<code>snmp</code>获取磁盘最大容量大小是<code>2147483647</code>(<code>2</code>的<code>31</code>次方减<code>1</code>,约等于<code>2T</code>)</p><p>可以猜测磁盘信息存储的时候采用了<code>int32</code>类型存储，一位标志位，范围是<code>-2147483648</code>到<code>2147483647</code></p><p>最终产生数值越界问题</p><h4 id="解决方案" tabindex="-1">解决方案 <a class="header-anchor" href="#解决方案" aria-label="Permalink to &quot;解决方案&quot;">​</a></h4><p>在<code>snmp5.5+</code>版本(目前在<code>Ubuntu 18</code>和<code>Centos 7</code>当中安装的<code>snmpd</code>版本都是<code>5.7.*</code>)，是已经修复了该缺陷的版本</p><p>通过引入<code>64bit</code>的<code>mibs</code>解决，引入的新<code>mib</code>如下</p><p><code>UCD-SNMP-MIB::dskTotalLow</code>,<code>UCD-SNMP-MIB::dskTotalHigh</code>,</p><p><code>UCD-SNMP-MIB::dskAvailLow,UCD-SNMP-MIB::dskAvailHigh</code>,</p><p><code>UCD-SNMP-MIB::dskUsedLow,UCD-SNMP-MIB::dskUsedHigh</code></p><p>计算磁盘总容量，磁盘可用容量，磁盘已使用容量上都各存在<code>Low</code>和<code>High</code>结尾的信息</p><h4 id="举例" tabindex="-1">举例 <a class="header-anchor" href="#举例" aria-label="Permalink to &quot;举例&quot;">​</a></h4><p>目前有一个系统，最大一块磁盘的容量大小是<code>6601618700</code>（<code>2^32 &lt; 6601618700 &lt; 2^64</code>，约等于<code>6T</code>）</p><p>获取所有磁盘和分区信息</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">snmpwalk</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">c</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-c</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">localhost</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">.1.3.6.1.4.1.2021.9.1.3</span></span>
<span class="line"><span style="color:#B392F0;">UCD-SNMP-MIB::dskDevice.1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/dev/sde3</span></span>
<span class="line"><span style="color:#B392F0;">UCD-SNMP-MIB::dskDevice.2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/dev/sda</span></span>
<span class="line"><span style="color:#B392F0;">UCD-SNMP-MIB::dskDevice.3</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/dev/sdb</span></span>
<span class="line"><span style="color:#B392F0;">UCD-SNMP-MIB::dskDevice.4</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STRING:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/dev/sdd</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">snmpwalk</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-v</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">c</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-c</span><span style="color:#24292E;"> </span><span style="color:#032F62;">public</span><span style="color:#24292E;"> </span><span style="color:#032F62;">localhost</span><span style="color:#24292E;">  </span><span style="color:#032F62;">.1.3.6.1.4.1.2021.9.1.3</span></span>
<span class="line"><span style="color:#6F42C1;">UCD-SNMP-MIB::dskDevice.1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/dev/sde3</span></span>
<span class="line"><span style="color:#6F42C1;">UCD-SNMP-MIB::dskDevice.2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/dev/sda</span></span>
<span class="line"><span style="color:#6F42C1;">UCD-SNMP-MIB::dskDevice.3</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/dev/sdb</span></span>
<span class="line"><span style="color:#6F42C1;">UCD-SNMP-MIB::dskDevice.4</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STRING:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/dev/sdd</span></span></code></pre></div><p>采用如下命令读取信息，发现最大磁盘量是<code>2147483647</code>(即<code>2T</code>)，这个与实际不符合，<code>snmp</code>可能为了保证旧版本的兼容性没有更改或者移除这个<code>OID</code></p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">snmpwalk</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">c</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-c</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">localhost</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">.1.3.6.1.4.1.2021.9.1.6</span></span>
<span class="line"><span style="color:#B392F0;">UCD-SNMP-MIB::dskTotal.1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">INTEGER:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">465993216</span></span>
<span class="line"><span style="color:#B392F0;">UCD-SNMP-MIB::dskTotal.2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">INTEGER:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2147483647</span></span>
<span class="line"><span style="color:#B392F0;">UCD-SNMP-MIB::dskTotal.3</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">INTEGER:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2147483647</span></span>
<span class="line"><span style="color:#B392F0;">UCD-SNMP-MIB::dskTotal.4</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">INTEGER:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">460838992</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">snmpwalk</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-v</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">c</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-c</span><span style="color:#24292E;"> </span><span style="color:#032F62;">public</span><span style="color:#24292E;"> </span><span style="color:#032F62;">localhost</span><span style="color:#24292E;">  </span><span style="color:#032F62;">.1.3.6.1.4.1.2021.9.1.6</span></span>
<span class="line"><span style="color:#6F42C1;">UCD-SNMP-MIB::dskTotal.1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">INTEGER:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">465993216</span></span>
<span class="line"><span style="color:#6F42C1;">UCD-SNMP-MIB::dskTotal.2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">INTEGER:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2147483647</span></span>
<span class="line"><span style="color:#6F42C1;">UCD-SNMP-MIB::dskTotal.3</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">INTEGER:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2147483647</span></span>
<span class="line"><span style="color:#6F42C1;">UCD-SNMP-MIB::dskTotal.4</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">INTEGER:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">460838992</span></span></code></pre></div><p>这个时候获取修复版本新增的<code>OID</code>信息</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 获取低32位的磁盘容量数值</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">snmpwalk</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">c</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-c</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">localhost</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">.1.3.6.1.4.1.2021.9.1.11</span></span>
<span class="line"><span style="color:#B392F0;">UCD-SNMP-MIB::dskTotalLow.1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Gauge32:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">465993216</span></span>
<span class="line"><span style="color:#B392F0;">UCD-SNMP-MIB::dskTotalLow.2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Gauge32:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2306651404</span></span>
<span class="line"><span style="color:#B392F0;">UCD-SNMP-MIB::dskTotalLow.3</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Gauge32:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2306651404</span></span>
<span class="line"><span style="color:#B392F0;">UCD-SNMP-MIB::dskTotalLow.4</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Gauge32:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">460838992</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 获取高32位的磁盘容量数值，即数值在2^32到2^64位之间的数值</span></span>
<span class="line"><span style="color:#B392F0;">snmpwalk</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">c</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-c</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">localhost</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">.1.3.6.1.4.1.2021.9.1.12</span></span>
<span class="line"><span style="color:#B392F0;">UCD-SNMP-MIB::dskTotalHigh.1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Gauge32:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#B392F0;">UCD-SNMP-MIB::dskTotalHigh.2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Gauge32:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#B392F0;">UCD-SNMP-MIB::dskTotalHigh.3</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Gauge32:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#B392F0;">UCD-SNMP-MIB::dskTotalHigh.4</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Gauge32:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 获取低32位的磁盘容量数值</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">snmpwalk</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-v</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">c</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-c</span><span style="color:#24292E;"> </span><span style="color:#032F62;">public</span><span style="color:#24292E;"> </span><span style="color:#032F62;">localhost</span><span style="color:#24292E;">  </span><span style="color:#032F62;">.1.3.6.1.4.1.2021.9.1.11</span></span>
<span class="line"><span style="color:#6F42C1;">UCD-SNMP-MIB::dskTotalLow.1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Gauge32:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">465993216</span></span>
<span class="line"><span style="color:#6F42C1;">UCD-SNMP-MIB::dskTotalLow.2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Gauge32:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2306651404</span></span>
<span class="line"><span style="color:#6F42C1;">UCD-SNMP-MIB::dskTotalLow.3</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Gauge32:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2306651404</span></span>
<span class="line"><span style="color:#6F42C1;">UCD-SNMP-MIB::dskTotalLow.4</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Gauge32:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">460838992</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 获取高32位的磁盘容量数值，即数值在2^32到2^64位之间的数值</span></span>
<span class="line"><span style="color:#6F42C1;">snmpwalk</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-v</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">c</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-c</span><span style="color:#24292E;"> </span><span style="color:#032F62;">public</span><span style="color:#24292E;"> </span><span style="color:#032F62;">localhost</span><span style="color:#24292E;">  </span><span style="color:#032F62;">.1.3.6.1.4.1.2021.9.1.12</span></span>
<span class="line"><span style="color:#6F42C1;">UCD-SNMP-MIB::dskTotalHigh.1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Gauge32:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#6F42C1;">UCD-SNMP-MIB::dskTotalHigh.2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Gauge32:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#6F42C1;">UCD-SNMP-MIB::dskTotalHigh.3</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Gauge32:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#6F42C1;">UCD-SNMP-MIB::dskTotalHigh.4</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Gauge32:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span></span></code></pre></div><p>发现<code>UCD-SNMP-MIB::dskTotalLow</code>存储的数值目前是大于<code>2^31 - 1</code>的，推测该字段应该是采用<code>UInt32</code>位存储，取值范围<code>0到4294967295</code>(小于<code>2^32 - 1</code>)，所以该字段最大存储磁盘容量是<code>4T</code></p><p>所以当磁盘最大容量可能超过<code>4T</code>的时候计算磁盘容量需要叠加计算两个<code>OID</code>的数值</p><p>比如现在计算第二块磁盘<code>UCD-SNMP-MIB::dskDevice.2</code>，磁盘分区为<code>/dev/sda</code>的磁盘，理论上这个修复版本的最大计算磁盘容量大约是<code>2^32 T</code></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">磁盘容量 = UCD-SNMP-MIB::dskTotalLow.2的值 + （ UCD-SNMP-MIB::dskTotalHigh.2的值 * 2^32)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">磁盘容量 = UCD-SNMP-MIB::dskTotalLow.2的值 + （ UCD-SNMP-MIB::dskTotalHigh.2的值 * 2^32)</span></span></code></pre></div><p>套入具体数值计算如下</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">6601618700 = 2306651404 + (1 * 2^32)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">6601618700 = 2306651404 + (1 * 2^32)</span></span></code></pre></div><h2 id="snmpwalk报错error-oid-not-increasing" tabindex="-1"><code>snmpwalk</code>报错<code>Error: OID not increasing</code> <a class="header-anchor" href="#snmpwalk报错error-oid-not-increasing" aria-label="Permalink to &quot;\`snmpwalk\`报错\`Error: OID not increasing\`&quot;">​</a></h2><p>默认情况下<code>snmpwalk</code>会检查返回的<code>OID</code>的序号，判断接收到的<code>OID</code>是否比上一个大，以免无限期的循环查询</p><p>有些时候需要获取全部数据，但是不方便修改<code>agent</code>，所以需要关闭这个检查</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">snmpwalk</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--help</span></span>
<span class="line"><span style="color:#79B8FF;">..</span></span>
<span class="line"><span style="color:#B392F0;">-C</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">APPOPTS</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">Set</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">various</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">application</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">specific</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">behaviours:</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">p:</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">print</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">number</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">of</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">variables</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">found</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">i:</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">include</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">given</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">OID</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">in</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">search</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">range</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">I:</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">don&#39;t include the given OID, even if no results are returned</span></span>
<span class="line"><span style="color:#9ECBFF;">    c:  do not check returned OIDs are increasing</span></span>
<span class="line"><span style="color:#9ECBFF;">    t:  Display wall-clock time to complete the walk</span></span>
<span class="line"><span style="color:#9ECBFF;">    T:  Display wall-clock time to complete each request</span></span>
<span class="line"><span style="color:#9ECBFF;">    E {OID}:  End the walk at the specified OID</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">snmpwalk</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--help</span></span>
<span class="line"><span style="color:#005CC5;">..</span></span>
<span class="line"><span style="color:#6F42C1;">-C</span><span style="color:#24292E;"> </span><span style="color:#032F62;">APPOPTS</span><span style="color:#24292E;">   </span><span style="color:#032F62;">Set</span><span style="color:#24292E;"> </span><span style="color:#032F62;">various</span><span style="color:#24292E;"> </span><span style="color:#032F62;">application</span><span style="color:#24292E;"> </span><span style="color:#032F62;">specific</span><span style="color:#24292E;"> </span><span style="color:#032F62;">behaviours:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">p:</span><span style="color:#24292E;">  </span><span style="color:#032F62;">print</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">number</span><span style="color:#24292E;"> </span><span style="color:#032F62;">of</span><span style="color:#24292E;"> </span><span style="color:#032F62;">variables</span><span style="color:#24292E;"> </span><span style="color:#032F62;">found</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">i:</span><span style="color:#24292E;">  </span><span style="color:#032F62;">include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">given</span><span style="color:#24292E;"> </span><span style="color:#032F62;">OID</span><span style="color:#24292E;"> </span><span style="color:#032F62;">in</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">search</span><span style="color:#24292E;"> </span><span style="color:#032F62;">range</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">I:</span><span style="color:#24292E;">  </span><span style="color:#032F62;">don&#39;t include the given OID, even if no results are returned</span></span>
<span class="line"><span style="color:#032F62;">    c:  do not check returned OIDs are increasing</span></span>
<span class="line"><span style="color:#032F62;">    t:  Display wall-clock time to complete the walk</span></span>
<span class="line"><span style="color:#032F62;">    T:  Display wall-clock time to complete each request</span></span>
<span class="line"><span style="color:#032F62;">    E {OID}:  End the walk at the specified OID</span></span></code></pre></div><p>执行的时候需要在命令后面加上参数<code>-Cc</code></p><h2 id="参考阅读" tabindex="-1">参考阅读 <a class="header-anchor" href="#参考阅读" aria-label="Permalink to &quot;参考阅读&quot;">​</a></h2><p><a href="http://www.net-snmp.org/wiki/" target="_blank" rel="noreferrer"><code>snmp</code>官方<code>wiki</code></a></p><p><a href="https://blog.51cto.com/freeloda/1306743" target="_blank" rel="noreferrer"><code>snmp</code>原理与实战</a></p>`,157),e=[o];function c(t,r,y,E,F,i){return a(),n("div",null,e)}const B=s(l,[["render",c]]);export{C as __pageData,B as default};
